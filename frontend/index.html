<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Moedas - MAB</title>
    <!-- Importação de fontes diretamente no HTML para garantir carregamento -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
    /* Variáveis de cores */
    :root {
      --primary: #8B4513;    /* marrom antigo */
      --secondary: #DAA520;  /* dourado */
      --accent: #CD853F;     /* bronze */
      --background: #FDF5E6; /* bege claro */
      --text: #2F1B14;      /* marrom escuro */
    }

    /* Reset básico */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Nunito', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
    }

    /* Títulos principais com fonte elegante */
    h1, h2, h3.coin-title {
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
    }

    h1 {
      font-size: 1.2rem;
      color: var(--background);
    }

    h2 {
      color: var(--primary);
      font-size: 1.8rem;
    }

    /* Header e Navegação */
    header {
      background: var(--primary);
      padding: 1rem 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0.5rem 1rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex: 0 1 auto;
      min-width: 0;
    }

    .logo-container img {
      height: 50px;
      width: auto;
    }

    .site-title {
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
      color: var(--background);
      font-size: 1.15rem;
      margin-left: 1rem;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
      white-space: nowrap;
      max-width: 420px;
      overflow: hidden;
      text-overflow: ellipsis;
      display: inline-block;
      vertical-align: middle;
    }

    /* Navegação */
    nav ul {
        display: flex;
        gap: 2rem;
        list-style: none;
        margin: 0;
        padding: 0;
    }

    nav a {
        color: var(--background);
        text-decoration: none;
        font-weight: 600;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        transition: background-color 0.3s;
    }

    nav a:hover {
        background-color: var(--accent);
    }

    /* Barra de busca */
    .search-bar {
      background: rgba(255,255,255,0.1);
      padding: 0.5rem;
      border-radius: 4px;
      width: 300px;
      min-width: 200px;
      z-index: 2;
      box-shadow: 0 2px 6px rgba(0,0,0,0.12);
    }

    .search-bar input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--accent);
      border-radius: 4px;
      background: white;
      font-size: 1rem;
      font-family: 'Inter', sans-serif;
    }

    .search-bar input::placeholder {
      color: #888;
    }

    /* Layout principal com sidebar */
    main {
        display: grid;
        grid-template-columns: 250px 1fr;
        gap: 2rem;
        max-width: 1400px;
        margin: 2rem auto;
        padding: 0 2rem;
    }

    .filters {
        background: white;
        padding: 1.5rem;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        height: fit-content;
    }

    .filters h2 {
        font-family: 'Cormorant Garamond', serif;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
    }

    .filters section {
        margin-bottom: 1.5rem;
    }

    .filters h3 {
        font-size: 1rem;
        margin-bottom: 0.5rem;
        color: var(--text);
        font-weight: 600;
        font-family: 'Inter', sans-serif;
    }

    /* Grid de moedas */
    .coins-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 2rem;
      padding: 2rem;
      min-height: 400px;
    }

    .coin-card {
      background: white;
      border-radius: 8px;
      overflow: hidden;
      transition: transform 0.3s, box-shadow 0.3s;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      cursor: pointer;
    }

    .coin-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .coin-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      background: #f0f0f0;
    }

    .coin-info {
        padding: 1rem;
    }

    .coin-info h3 {
        font-family: 'Cormorant Garamond', serif;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 0.5rem;
        font-size: 1.2rem;
    }

    .coin-info p {
        color: var(--text);
        font-size: 0.9rem;
        margin-bottom: 0.3rem;
    }

    .coin-period {
        color: var(--accent);
        font-weight: 600;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
    }

    .modal.show {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: var(--background);
      padding: 2rem;
      border-radius: 8px;
      max-width: 800px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      transform: scale(0.8);
      transition: transform 0.3s;
    }

    .modal.show .modal-content {
      transform: scale(1);
    }

    .close-modal {
        position: absolute;
        right: 1rem;
        top: 1rem;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--text);
        transition: color 0.3s;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .close-modal:hover {
        color: var(--primary);
    }

    .modal-tabs {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        border-bottom: 1px solid #ddd;
    }

    .tab-btn {
        padding: 0.75rem 1.5rem;
        background: none;
        border: none;
        border-bottom: 3px solid transparent;
        cursor: pointer;
        font-family: 'Inter', sans-serif;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s;
        color: #666;
    }

    .tab-btn.active {
        border-bottom-color: var(--accent);
        color: var(--primary);
    }

    .tab-btn:hover:not(.active) {
        color: var(--accent);
    }

    .tab-content {
        min-height: 300px;
        padding: 1rem 0;
    }

    .tab-panel {
        display: none;
    }

    .tab-panel.active {
        display: block;
    }

    /* Estados de carregamento */
    .loading {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 200px;
        color: var(--accent);
        font-size: 1.1rem;
    }

    .empty-state {
        text-align: center;
        padding: 3rem;
        color: var(--accent);
    }

    .empty-state h3 {
        font-family: 'Cormorant Garamond', serif;
        color: var(--primary);
        margin-bottom: 1rem;
    }

    /* Imagens responsivas */
    img {
        max-width: 100%;
        height: auto;
    }

    /* Acessibilidade */
    :focus {
      outline: 3px solid var(--accent);
      outline-offset: 2px;
    }

    button:focus,
    input:focus,
    a:focus {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    /* Animações */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.4s ease-out;
    }

    /* Media Queries */
    @media (max-width: 1024px) {
        main {
            grid-template-columns: 200px 1fr;
        }
        
        .site-title {
            font-size: 1.8rem;
        }
    }

    @media (max-width: 768px) {
        main {
            grid-template-columns: 1fr;
        }
        
        .filters {
            margin-bottom: 2rem;
        }
        
        .coins-grid {
            grid-template-columns: repeat(2, 1fr);
            padding: 1rem;
        }
        
        .header-container {
            flex-direction: column;
            text-align: center;
        }
        
        .logo-container {
            min-width: auto;
            justify-content: center;
        }
        
        .search-bar {
            width: 100%;
            max-width: 400px;
        }
        
        .site-title {
            font-size: 1.5rem;
            margin-left: 0;
            margin-top: 0.5rem;
        }

        nav ul {
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .modal-tabs {
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .tab-btn {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }
    }

    @media (max-width: 480px) {
        .coins-grid {
            grid-template-columns: 1fr;
        }
        
        .site-title {
            font-size: 1.3rem;
        }

        .header-container {
            padding: 1rem;
        }

        .modal-content {
            padding: 1rem;
            margin: 1rem;
        }
    }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-container">
                <img src="assets/museum-logo.png" alt="Logo do MAB" onerror="this.style.display='none'">
                <img src="assets/unasp-logo.png" alt="Logo UNASP" onerror="this.style.display='none'">
                <h1 class="site-title">Catálogo de Moedas - MAB</h1>
            </div>
            
            <div class="search-bar">
                <input type="search" id="searchInput" placeholder="Buscar por nome, período ou país..." aria-label="Buscar moedas">
            </div>
            
            <nav>
                <ul>
                    <li><a href="#colecoes">Coleções</a></li>
                    <li><a href="#sobre">Sobre</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="inicio" class="view">
        <aside class="filters">
            <h2>Filtros</h2>
            <section>
                <h3>Período Histórico</h3>
                <div id="period-filters">
                    <!-- Filtros serão inseridos via JavaScript -->
                </div>
            </section>
            <section>
                <h3>Região</h3>
                <div id="region-filters">
                    <!-- Filtros serão inseridos via JavaScript -->
                </div>
            </section>
        </aside>

        <section class="coins-grid" id="coinsGrid">
            <div class="loading">Carregando moedas...</div>
        </section>
    </main>

    <!-- Seções adicionais para navegação (Coleções / Sobre) -->
    <section id="colecoes" class="view" hidden>
        <div class="container" style="padding:2rem; max-width:1200px; margin:0 auto;">
            <h2 style="color:var(--primary); font-family: 'Nunito', sans-serif;">Coleções Temáticas</h2>
            <p>Agrupamentos por períodos e temas. Exemplo de coleções abaixo.</p>
            <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:1rem; margin-top:1rem;">
                <div style="background:white;padding:1rem;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.08);">
                    <h3 style="margin:0 0 .5rem;color:var(--primary);">Roma Antiga</h3>
                    <p>Moedas do período imperial e republicano.</p>
                </div>
                <div style="background:white;padding:1rem;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.08);">
                    <h3 style="margin:0 0 .5rem;color:var(--primary);">Império Bizantino</h3>
                    <p>Moedas de ouro e bronze do período bizantino.</p>
                </div>
                <div style="background:white;padding:1rem;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.08);">
                    <h3 style="margin:0 0 .5rem;color:var(--primary);">Período Bíblico</h3>
                    <p>Moedas relacionadas a contextos bíblicos e arqueológicos.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="sobre" class="view" hidden>
        <div class="container" style="padding:2rem; max-width:900px; margin:0 auto;">
            <h2 style="color:var(--primary); font-family: 'Nunito', sans-serif;">Sobre o Catálogo</h2>
            <p>Este catálogo é um protótipo para a exposição do Museu. Curadoria e dados são fictícios para demonstração. Aqui podem ser adicionadas informações institucionais, contatos e políticas de uso.</p>
        </div>
    </section>

    <!-- Template do Modal -->
    <div id="coinModal" class="modal" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-content">
            <button class="close-modal" aria-label="Fechar modal">&times;</button>
            <h2 id="modal-title" style="margin-bottom: 1rem;">Detalhes da Moeda</h2>
            <div class="modal-tabs">
                <button class="tab-btn active" data-tab="historia" role="tab" aria-selected="true">História</button>
                <button class="tab-btn" data-tab="contexto" role="tab" aria-selected="false">Contexto Bíblico</button>
                <button class="tab-btn" data-tab="referencia" role="tab" aria-selected="false">Referência Histórica</button>
            </div>
            <div class="tab-content">
                <div id="historia" class="tab-panel active" role="tabpanel">
                    <!-- Conteúdo será inserido via JavaScript -->
                </div>
                <div id="contexto" class="tab-panel" role="tabpanel">
                    <!-- Conteúdo será inserido via JavaScript -->
                </div>
                <div id="referencia" class="tab-panel" role="tabpanel">
                    <!-- Conteúdo será inserido via JavaScript -->
                </div>
            </div>
        </div>
    </div>

        <!-- Modal para exibir views (Coleções / Sobre) -->
        <div id="viewModal" class="modal" role="dialog" aria-hidden="true">
            <div class="modal-content" id="viewModalContent">
                <button class="close-view-modal" aria-label="Fechar">&times;</button>
                <div id="viewModalBody"></div>
            </div>
        </div>

    <script>
        // JavaScript integrado para funcionalidade básica
        document.addEventListener('DOMContentLoaded', function() {
            // Exemplo de dados de moedas
            const coinsData = [
                {
                    id: 1,
                    name: "Denário de Tiberio",
                    period: "Império Romano",
                    region: "Roma",
                    year: "14-37 d.C.",
                    image: "assets/coins/denario-tiberio.jpg",
                    historia: "O denário foi a principal moeda de prata do Império Romano. Esta moeda específica foi cunhada durante o reinado do imperador Tibério.",
                    contexto: "Esta é provavelmente a moeda mencionada em Mateus 22:19-21, quando Jesus disse 'Dai a César o que é de César'.",
                    referencia: "Referência bíblica: Mateus 22:15-22, Marcos 12:13-17, Lucas 20:20-26"
                },
                {
                    id: 2,
                    name: "Siclo de Prata",
                    period: "Primeira Revolta Judaica",
                    region: "Jerusalém",
                    year: "66-70 d.C.",
                    image: "assets/coins/siclo-prata.jpg",
                    historia: "Moeda cunhada durante a Primeira Revolta Judaica contra Roma, símbolo da resistência judaica.",
                    contexto: "O siclo era a unidade monetária padrão mencionada em várias passagens bíblicas.",
                    referencia: "Referência bíblica: Êxodo 21:32, Levítico 5:15, Números 3:47"
                }
            ];

            // Renderizar moedas
            function renderCoins(coins = coinsData) {
                const grid = document.getElementById('coinsGrid');
                
                if (coins.length === 0) {
                    grid.innerHTML = '<div class="empty-state"><h3>Nenhuma moeda encontrada</h3><p>Tente ajustar seus filtros de busca.</p></div>';
                    return;
                }
                
                grid.innerHTML = coins.map(coin => `
                    <div class="coin-card fade-in" onclick="openModal(${coin.id})">
                        <img src="${coin.image}" alt="${coin.name}" class="coin-image" 
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjBGMEYwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iNDAiIHN0cm9rZT0iIzhCNDUxMyIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTA1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiIGZpbGw9IiM4QjQ1MTMiPk1vZWRhPC90ZXh0Pgo8L3N2Zz4K'">
                        <div class="coin-info">
                            <h3>${coin.name}</h3>
                            <p class="coin-period">${coin.period}</p>
                            <p><strong>Região:</strong> ${coin.region}</p>
                            <p><strong>Período:</strong> ${coin.year}</p>
                        </div>
                    </div>
                `).join('');
            }

            // --- FILTROS INTERATIVOS ---
            function getUniqueValues(key) {
                return Array.from(new Set(coinsData.map(c => c[key]).filter(Boolean))).sort();
            }
            
            function renderFilters() {
                const periods = getUniqueValues('period');
                const regions = getUniqueValues('region');
                const periodContainer = document.getElementById('period-filters');
                const regionContainer = document.getElementById('region-filters');
    
                periodContainer.innerHTML = periods.map(p => `
                    <label style="display:block;margin-bottom:0.5rem;">
                        <input type="checkbox" name="period" value="${p}"> ${p}
                    </label>
                `).join('');
    
                regionContainer.innerHTML = regions.map(r => `
                    <label style="display:block;margin-bottom:0.5rem;">
                        <input type="checkbox" name="region" value="${r}"> ${r}
                    </label>
                `).join('');
    
                // adicionar listeners
                Array.from(document.querySelectorAll('#period-filters input, #region-filters input'))
                    .forEach(cb => cb.addEventListener('change', applyFilters));
    
                updateFilterCounts();
            }
    
            function getCheckedValues(name) {
                return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(i => i.value);
            }
    
            function applyFilters() {
                const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
                const selectedPeriods = getCheckedValues('period');
                const selectedRegions = getCheckedValues('region');
    
                const filtered = coinsData.filter(coin => {
                    const matchSearch = !searchTerm || coin.name.toLowerCase().includes(searchTerm) || coin.period.toLowerCase().includes(searchTerm) || coin.region.toLowerCase().includes(searchTerm);
                    const matchPeriod = selectedPeriods.length === 0 || selectedPeriods.includes(coin.period);
                    const matchRegion = selectedRegions.length === 0 || selectedRegions.includes(coin.region);
                    return matchSearch && matchPeriod && matchRegion;
                });
    
                renderCoins(filtered);
                updateFilterCounts(filtered);
            }
    
            function updateFilterCounts(filteredList = coinsData) {
                // atualiza contadores simples ao lado de cada filtro
                document.querySelectorAll('#period-filters label').forEach(label => {
                    const inp = label.querySelector('input');
                    const val = inp.value;
                    const count = filteredList.filter(c => c.period === val).length;
                    // mantém o checkbox e adiciona contador
                    label.innerHTML = `<input type="checkbox" name="period" value="${val}"> ${val} <span style="color:var(--accent);font-weight:600">(${count})</span>`;
                    label.querySelector('input').checked = inp.checked;
                });
    
                document.querySelectorAll('#region-filters label').forEach(label => {
                    const inp = label.querySelector('input');
                    const val = inp.value;
                    const count = filteredList.filter(c => c.region === val).length;
                    label.innerHTML = `<input type="checkbox" name="region" value="${val}"> ${val} <span style="color:var(--accent);font-weight:600">(${count})</span>`;
                    label.querySelector('input').checked = inp.checked;
                });
            }
    
            // substituir listener de busca para usar applyFilters
            document.getElementById('searchInput').addEventListener('input', function() {
                applyFilters();
            });
    
            // renderizar filtros iniciais
            renderFilters();
    
            // Abrir modal
            window.openModal = function(coinId) {
                const coin = coinsData.find(c => c.id === coinId);
                if (!coin) return;

                const modal = document.getElementById('coinModal');
                const modalTitle = document.getElementById('modal-title');
                
                modalTitle.textContent = coin.name;
                
                // Preencher conteúdo das abas
                document.getElementById('historia').innerHTML = `<p>${coin.historia}</p>`;
                document.getElementById('contexto').innerHTML = `<p>${coin.contexto}</p>`;
                document.getElementById('referencia').innerHTML = `<p>${coin.referencia}</p>`;
                
                modal.classList.add('show');
                modal.setAttribute('aria-hidden', 'false');
            };

            // Fechar modal
            function closeModal() {
                const modal = document.getElementById('coinModal');
                modal.classList.remove('show');
                modal.setAttribute('aria-hidden', 'true');
            }

            // Event listeners
            document.querySelector('.close-modal').addEventListener('click', closeModal);
            
            document.getElementById('coinModal').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });

            // Navegação das abas
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    // Atualizar botões
                    document.querySelectorAll('.tab-btn').forEach(b => {
                        b.classList.remove('active');
                        b.setAttribute('aria-selected', 'false');
                    });
                    this.classList.add('active');
                    this.setAttribute('aria-selected', 'true');
                    
                    // Atualizar painéis
                    document.querySelectorAll('.tab-panel').forEach(panel => {
                        panel.classList.remove('active');
                    });
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Tecla ESC para fechar modal
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });

            // Renderização inicial
            renderCoins();
            
            // --- NAV VIEW HANDLERS ---
            function showView(id) {
                const target = document.getElementById(id);
                if (!target) return;

                // clonar o conteúdo da seção e inserir no modal
                const body = document.getElementById('viewModalBody');
                body.innerHTML = '';
                const clone = target.cloneNode(true);
                // remover hidden para exibir corretamente
                clone.hidden = false;
                body.appendChild(clone);

                const viewModal = document.getElementById('viewModal');
                viewModal.classList.add('show');
                viewModal.setAttribute('aria-hidden', 'false');

                // evitar scroll no body
                document.body.style.overflow = 'hidden';
            }

            document.querySelectorAll('nav a').forEach(a => {
                a.addEventListener('click', function(e) {
                    e.preventDefault();
                    const raw = this.getAttribute('href');
                    const href = raw === '#' ? '' : raw.replace('#','');
                    if (!href) {
                        // scroll to top
                        const viewModal = document.getElementById('viewModal');
                        if (viewModal && viewModal.classList.contains('show')) {
                            viewModal.classList.remove('show');
                            viewModal.setAttribute('aria-hidden', 'true');
                            document.body.style.overflow = '';
                        }
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    } else {
                        showView(href);
                    }
                });
            });

            // Handlers para fechar viewModal
            document.addEventListener('click', function(e) {
                if (e.target.classList && e.target.classList.contains('close-view-modal')) {
                    const viewModal = document.getElementById('viewModal');
                    viewModal.classList.remove('show');
                    viewModal.setAttribute('aria-hidden', 'true');
                    document.body.style.overflow = '';
                }
            });

            document.getElementById('viewModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('show');
                    this.setAttribute('aria-hidden', 'true');
                    document.body.style.overflow = '';
                }
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const viewModal = document.getElementById('viewModal');
                    if (viewModal.classList.contains('show')) {
                        viewModal.classList.remove('show');
                        viewModal.setAttribute('aria-hidden', 'true');
                        document.body.style.overflow = '';
                    }
                }
            });
        });
    </script>
</body>
</html>